<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Challenge 9 - SQL Injection Expert</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <%- include('partials/header') %>

    <div class="container">
        <div class="breadcrumb">
            <a href="/">Dashboard</a> / Challenge 9
        </div>

        <div class="challenge-header">
            <h1>ğŸ’‰ Challenge 9 - SQL Injection Expert</h1>
            <p class="subtitle">Exploitez la recherche pour extraire toutes les donnÃ©es</p>
        </div>

        <div class="card">
            <h2>ğŸ“š Description</h2>
            <p>
                Cette application contient une vulnÃ©rabilitÃ© SQL Injection dans sa fonction de recherche par ID.
                Aucun indice ne sera fourni. Vous devrez explorer la base de donnÃ©es par vous-mÃªme
                pour trouver le flag.
            </p>
        </div>

        <div class="card">
            <h2>ğŸ” Rechercher par ID</h2>
            <form action="/challenge9/search" method="GET" class="search-form">
                <div class="form-group">
                    <input type="text" name="identity" placeholder="Entrez un ID..." required>
                    <button type="submit" class="btn">Rechercher</button>
                </div>
            </form>

            <% if (results && results.length > 0) { %>
                <div class="search-results">
                    <h3>ğŸ“Š RÃ©sultats:</h3>
                    <ul>
                        <% results.forEach(user => { %>
                            <li>â€¢ ID: <%= user.id %> - <%= user.username %></li>
                        <% }); %>
                    </ul>
                </div>
            <% } else if (results && results.length === 0) { %>
                <p class="no-results">Aucun rÃ©sultat trouvÃ©.</p>
            <% } %>

            <% if (error) { %>
                <div class="error-display">
                    <strong>Erreur:</strong>
                    <pre><%= error %></pre>
                </div>
            <% } %>
        </div>

        <div class="card">
            <h2>âš ï¸ Niveau de difficultÃ© : Expert</h2>
            <p>
                Ce challenge nÃ©cessite une exploitation SQL avancÃ©e. Vous devrez utiliser des outils
                automatisÃ©s pour Ã©numÃ©rer et extraire les donnÃ©es de la base. Le flag se trouve
                quelque part dans la base de donnÃ©es, mais vous devrez le chercher vous-mÃªme.
            </p>
        </div>

        <div class="back-button">
            <a href="/" class="btn">â† Retour au Dashboard</a>
        </div>
    </div>

    <%- include('partials/footer') %>
</body>
</html>
